package {{ package }}.Controller;

import com.zhongyewx.msg_push.util.R;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import {{ service_package }};
import {{ entity_package }};

/**
 * @Description {{description}}
 * @author {{author}}
 * @date {{ date }}
 * @version V1.0
 */
@RestController
@RequestMapping("/{{ small_class_name }}/")
public class {{ class_name }}Controller extends AbstractController {

    @Autowired
	private {{ class_name }}Service {{ small_class_name }}Service;
	
	/**
     * @Description: 查询列表
     * @Author {{author}}
     * @Param [{{ small_class_name }}]
     * @return com.zhongyewx.msg_push.util.R
     */
	@PostMapping("/list{{ class_name }}")
	public R list{{ class_name }}(@RequestBody {{ class_name }} {{ small_class_name }}){
		return R.ok().put("data",{{ small_class_name }}Service.list{{ class_name }}({{ small_class_name }}));
	}

	/**
     * @Description: 编辑
     * @Author {{author}}
     * @Param [{{ small_class_name }}]
     * @return com.zhongyewx.msg_push.util.R
     */
	@PostMapping("/update{{ class_name }}")
	public R update{{ class_name }}{{ class_name }}(@RequestBody {{ class_name }} {{ small_class_name }}){
		{{ small_class_name }}.setUpdateUserGroupId(getUser().getUserGroupId());
		return R.ok().put("data",{{ small_class_name }}Service.update{{ class_name }}({{ small_class_name }}));
	}

	/**
	 * @Description: 新增
	 * @Author {{author}}
	 * @Param [{{ small_class_name }}]
	 * @return com.zhongyewx.msg_push.util.R
	 */
	@PostMapping("/insert{{ class_name }}")
    public R insert{{ class_name }}(@RequestBody {{ class_name }} {{ small_class_name }}){
		{{ small_class_name }}.setCreateUserGroupId(getUser().getUserGroupId());
		return R.ok().put("data",{{ small_class_name }}Service.insert{{ class_name }}({{ small_class_name }}));
	}

    /**
	 * @Description: 删除
	 * @Author {{author}}
	 * @Param [tableId]
	 * @return com.zhongyewx.msg_push.util.R
	 */
	@GetMapping("/delete{{ class_name }}")
    public R delete{{ class_name }}(@RequestParam Integer tableId){
		return R.ok().put("data",{{ small_class_name }}Service.delete{{ class_name }}(tableId));
    }

}